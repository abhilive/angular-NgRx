(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"37h8":function(l,n,t){"use strict";t.r(n);var u,e=t("CcnG"),r=t("yGQT"),o=Object(r.D)("products"),c=Object(r.F)(o,function(l){return l.showProductCode}),i=Object(r.F)(o,function(l){return l.currentProductId}),s=Object(r.F)(o,i,function(l,n){return 0===n?{id:0,productName:"",productCode:"New",description:"",starRating:0}:n?l.products.find(function(l){return l.id===n}):null}),a=Object(r.F)(o,function(l){return l.products}),d=Object(r.F)(o,function(l){return l.error});!function(l){l.ToggleProductCode="[Product] Toggle Product Code",l.SetCurrentProduct="[Product] Set Current Product",l.ClearCurrentProduct="[Product] Clear Current Product",l.InitializeCurrentProduct="[Product] Initialize Current Product",l.Load="[Product] Load",l.LoadSuccess="[Product] Load Success",l.LoadFail="[Product] Load Fail",l.UpdateProduct="[Product] Update Product",l.UpdateProductSuccess="[Product] Update Product Success",l.UpdateProductFail="[Product] Update Product Fail",l.CreateProduct="[Product] Create Product",l.CreateProductSuccess="[Product] Create Product Success",l.CreateProductFail="[Product] Create Product Fail",l.DeleteProduct="[Product] Delete Product",l.DeleteProductSuccess="[Product] Delete Product Success",l.DeleteProductFail="[Product] Delete Product Fail"}(u||(u={}));var p=function(){return function(l){this.payload=l,this.type=u.ToggleProductCode}}(),b=function(){return function(l){this.payload=l,this.type=u.SetCurrentProduct}}(),g=function(){return function(){this.type=u.ClearCurrentProduct}}(),f=function(){return function(){this.type=u.InitializeCurrentProduct}}(),h=function(){return function(){this.type=u.Load}}(),m=function(){return function(l){this.payload=l,this.type=u.LoadSuccess}}(),P=function(){return function(l){this.payload=l,this.type=u.LoadFail}}(),y=function(){return function(l){this.payload=l,this.type=u.UpdateProduct}}(),v=function(){return function(l){this.payload=l,this.type=u.UpdateProductSuccess}}(),C=function(){return function(l){this.payload=l,this.type=u.CreateProduct}}(),w=function(){return function(l){this.payload=l,this.type=u.CreateProductSuccess}}(),x=function(){return function(l){this.payload=l,this.type=u.CreateProductFail}}(),k=function(){return function(l){this.payload=l,this.type=u.DeleteProduct}}(),O=function(){return function(l){this.payload=l,this.type=u.DeleteProductSuccess}}(),j=function(){return function(l){this.payload=l,this.type=u.DeleteProductFail}}(),D=function(){function l(l){this.store=l}return l.prototype.ngOnInit=function(){this.store.dispatch(new h),this.products$=this.store.pipe(Object(r.G)(a)),this.errorMessage$=this.store.pipe(Object(r.G)(d)),this.selectedProduct$=this.store.pipe(Object(r.G)(s)),this.displayCode$=this.store.pipe(Object(r.G)(c))},l.prototype.checkChanged=function(l){this.store.dispatch(new p(l))},l.prototype.newProduct=function(){this.store.dispatch(new f)},l.prototype.productSelected=function(l){this.store.dispatch(new b(l))},l.prototype.deleteProduct=function(l){this.store.dispatch(new k(l.id))},l.prototype.clearProduct=function(){this.store.dispatch(new g)},l.prototype.saveProduct=function(l){this.store.dispatch(new C(l))},l.prototype.updateProduct=function(l){this.store.dispatch(new y(l))},l}(),F=function(){return function(){}}(),I=t("pMnS"),S=t("Ip0R"),M=function(){function l(){this.pageTitle="Products",this.checked=new e.m,this.initializeNewProduct=new e.m,this.selected=new e.m}return l.prototype.checkChanged=function(l){this.checked.emit(l)},l.prototype.newProduct=function(){this.initializeNewProduct.emit()},l.prototype.productSelected=function(l){this.selected.emit(l)},l}(),N=e.nb({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{padding:0}"]],data:{}});function $(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Db(1,null,["(",")"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.productCode)})}function L(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,5,"button",[["class","list-group-item list-group-item-action rounded-0"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.productSelected(l.context.$implicit)&&u),u},null,null)),e.ob(1,278528,null,0,S.i,[e.s,e.t,e.k,e.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.zb(2,{active:0}),(l()(),e.Db(3,null,[" "," "])),(l()(),e.gb(16777216,null,null,1,null,$)),e.ob(5,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component,u=l(n,2,0,(null==n.context.$implicit?null:n.context.$implicit.id)===(null==t.selectedProduct?null:t.selectedProduct.id));l(n,1,0,"list-group-item list-group-item-action rounded-0",u),l(n,5,0,t.displayCode)},function(l,n){l(n,3,0,n.context.$implicit.productName)})}function E(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,L)),e.ob(3,278528,null,0,S.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.products)},null)}function T(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Db(1,null,[" Error: ","\n"]))],null,function(l,n){l(n,1,0,n.component.errorMessage)})}function U(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Db(2,null,["",""])),(l()(),e.gb(16777216,null,null,1,null,E)),e.ob(4,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(5,0,null,null,8,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,3,"div",[["class","form-check col-md-7"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,0,"input",[["class","form-check-input"],["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(l,n,t){var u=!0;return"change"===n&&(u=!1!==l.component.checkChanged(t.target.checked)&&u),u},null,null)),(l()(),e.Db(-1,null,[" Display Product Code "])),(l()(),e.pb(11,0,null,null,2,"div",[["class","col-md-4 text-right"]],null,null,null,null,null)),(l()(),e.pb(12,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.newProduct()&&u),u},null,null)),(l()(),e.Db(-1,null,[" Add "])),(l()(),e.gb(16777216,null,null,1,null,T)),e.ob(15,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,4,0,t.products),l(n,15,0,t.errorMessage)},function(l,n){var t=n.component;l(n,2,0,t.pageTitle),l(n,9,0,t.displayCode)})}var R=t("gIcY"),z=t("mrSG"),A=function(){function l(l){this.validationMessages=l}return l.prototype.processMessages=function(l){var n=this,t={},u=function(u){if(l.controls.hasOwnProperty(u)){var r=l.controls[u];if(r instanceof R.f){var o=e.processMessages(r);Object.assign(t,o)}else e.validationMessages[u]&&(t[u]="",(r.dirty||r.touched)&&r.errors&&Object.keys(r.errors).map(function(l){n.validationMessages[u][l]&&(t[u]+=n.validationMessages[u][l]+" ")}))}},e=this;for(var r in l.controls)u(r);return t},l}(),_=function(){function l(){}return l.range=function(l,n){return function(t){return t.value&&(isNaN(t.value)||t.value<l||t.value>n)?{range:!0}:null}},l}(),q=function(){function l(l){this.fb=l,this.pageTitle="Product Edit",this.create=new e.m,this.update=new e.m,this.delete=new e.m,this.clearCurrent=new e.m,this.componentActive=!0,this.displayMessage={},this.validationMessages={productName:{required:"Product name is required.",minlength:"Product name must be at least three characters.",maxlength:"Product name cannot exceed 50 characters."},productCode:{required:"Product code is required."},starRating:{range:"Rate the product between 1 (lowest) and 5 (highest)."}},this.genericValidator=new A(this.validationMessages)}return l.prototype.ngOnInit=function(){var l=this;this.productForm=this.fb.group({productName:["",[R.r.required,R.r.minLength(3),R.r.maxLength(50)]],productCode:["",R.r.required],starRating:["",_.range(1,5)],description:""}),this.productForm.valueChanges.subscribe(function(n){return l.displayMessage=l.genericValidator.processMessages(l.productForm)})},l.prototype.ngOnChanges=function(l){l.selectedProduct&&this.displayProduct(l.selectedProduct.currentValue)},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l.prototype.blur=function(){this.displayMessage=this.genericValidator.processMessages(this.productForm)},l.prototype.displayProduct=function(l){this.product=l,this.product&&(this.productForm.reset(),this.pageTitle=0===this.product.id?"Add Product":"Edit Product: "+this.product.productName,this.productForm.patchValue({productName:this.product.productName,productCode:this.product.productCode,starRating:this.product.starRating,description:this.product.description}))},l.prototype.cancelEdit=function(){this.displayProduct(this.product)},l.prototype.deleteProduct=function(){this.product&&this.product.id?confirm("Really delete the product: "+this.product.productName+"?")&&this.delete.emit(this.product):this.clearCurrent.emit()},l.prototype.saveProduct=function(){if(this.productForm.valid){if(this.productForm.dirty){var l=z.a({},this.product,this.productForm.value);0===l.id?this.create.emit(l):this.update.emit(l)}}else this.errorMessage="Please correct the validation errors."},l}(),V=e.nb({encapsulation:0,styles:[[""]],data:{}});function G(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Db(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.productName)})}function J(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Db(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.productCode)})}function Y(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Db(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.starRating)})}function B(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Db(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.description)})}function W(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,77,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Db(2,null,[" "," "])),(l()(),e.pb(3,0,null,null,74,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,73,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,t){var u=!0,r=l.component;return"submit"===n&&(u=!1!==e.xb(l,6).onSubmit(t)&&u),"reset"===n&&(u=!1!==e.xb(l,6).onReset()&&u),"ngSubmit"===n&&(u=!1!==r.saveProduct()&&u),u},null,null)),e.ob(5,16384,null,0,R.t,[],null,null),e.ob(6,540672,null,0,R.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Ab(2048,null,R.b,null,[R.g]),e.ob(8,16384,null,0,R.m,[[4,R.b]],null,null),(l()(),e.pb(9,0,null,null,68,"fieldset",[],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.pb(11,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","productNameId"]],null,null,null,null,null)),(l()(),e.Db(-1,null,["Product Name"])),(l()(),e.pb(13,0,null,null,10,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,7,"input",[["class","form-control"],["formControlName","productName"],["id","productNameId"],["placeholder","Name (required)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0,r=l.component;return"input"===n&&(u=!1!==e.xb(l,17)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.xb(l,17).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.xb(l,17)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.xb(l,17)._compositionEnd(t.target.value)&&u),"blur"===n&&(u=!1!==r.blur()&&u),u},null,null)),e.ob(15,278528,null,0,S.i,[e.s,e.t,e.k,e.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.zb(16,{"is-invalid":0}),e.ob(17,16384,null,0,R.c,[e.D,e.k,[2,R.a]],null,null),e.Ab(1024,null,R.j,function(l){return[l]},[R.c]),e.ob(19,671744,null,0,R.e,[[3,R.b],[8,null],[8,null],[6,R.j],[2,R.v]],{name:[0,"name"]},null),e.Ab(2048,null,R.k,null,[R.e]),e.ob(21,16384,null,0,R.l,[[4,R.k]],null,null),(l()(),e.gb(16777216,null,null,1,null,G)),e.ob(23,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(24,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.pb(25,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","productCodeId"]],null,null,null,null,null)),(l()(),e.Db(-1,null,["Product Code"])),(l()(),e.pb(27,0,null,null,10,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.pb(28,0,null,null,7,"input",[["class","form-control"],["formControlName","productCode"],["id","productCodeId"],["placeholder","Code (required)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0,r=l.component;return"input"===n&&(u=!1!==e.xb(l,31)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.xb(l,31).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.xb(l,31)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.xb(l,31)._compositionEnd(t.target.value)&&u),"blur"===n&&(u=!1!==r.blur()&&u),u},null,null)),e.ob(29,278528,null,0,S.i,[e.s,e.t,e.k,e.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.zb(30,{"is-invalid":0}),e.ob(31,16384,null,0,R.c,[e.D,e.k,[2,R.a]],null,null),e.Ab(1024,null,R.j,function(l){return[l]},[R.c]),e.ob(33,671744,null,0,R.e,[[3,R.b],[8,null],[8,null],[6,R.j],[2,R.v]],{name:[0,"name"]},null),e.Ab(2048,null,R.k,null,[R.e]),e.ob(35,16384,null,0,R.l,[[4,R.k]],null,null),(l()(),e.gb(16777216,null,null,1,null,J)),e.ob(37,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(38,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.pb(39,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","starRatingId"]],null,null,null,null,null)),(l()(),e.Db(-1,null,["Star Rating (1-5)"])),(l()(),e.pb(41,0,null,null,10,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.pb(42,0,null,null,7,"input",[["class","form-control"],["formControlName","starRating"],["id","starRatingId"],["placeholder","Rating"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.xb(l,45)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.xb(l,45).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.xb(l,45)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.xb(l,45)._compositionEnd(t.target.value)&&u),u},null,null)),e.ob(43,278528,null,0,S.i,[e.s,e.t,e.k,e.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.zb(44,{"is-invalid":0}),e.ob(45,16384,null,0,R.c,[e.D,e.k,[2,R.a]],null,null),e.Ab(1024,null,R.j,function(l){return[l]},[R.c]),e.ob(47,671744,null,0,R.e,[[3,R.b],[8,null],[8,null],[6,R.j],[2,R.v]],{name:[0,"name"]},null),e.Ab(2048,null,R.k,null,[R.e]),e.ob(49,16384,null,0,R.l,[[4,R.k]],null,null),(l()(),e.gb(16777216,null,null,1,null,Y)),e.ob(51,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(52,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.pb(53,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","descriptionId"]],null,null,null,null,null)),(l()(),e.Db(-1,null,["Description"])),(l()(),e.pb(55,0,null,null,11,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.pb(56,0,null,null,8,"textarea",[["class","form-control"],["formControlName","description"],["id","descriptionId"],["placeholder","Description"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.xb(l,59)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.xb(l,59).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.xb(l,59)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.xb(l,59)._compositionEnd(t.target.value)&&u),u},null,null)),e.ob(57,278528,null,0,S.i,[e.s,e.t,e.k,e.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.zb(58,{"is-invalid":0}),e.ob(59,16384,null,0,R.c,[e.D,e.k,[2,R.a]],null,null),e.Ab(1024,null,R.j,function(l){return[l]},[R.c]),e.ob(61,671744,null,0,R.e,[[3,R.b],[8,null],[8,null],[6,R.j],[2,R.v]],{name:[0,"name"]},null),e.Ab(2048,null,R.k,null,[R.e]),e.ob(63,16384,null,0,R.l,[[4,R.k]],null,null),(l()(),e.Db(-1,null,["            "])),(l()(),e.gb(16777216,null,null,1,null,B)),e.ob(66,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(67,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(68,0,null,null,9,"div",[["class","col-md-10 col-md-offset-2"]],null,null,null,null,null)),(l()(),e.pb(69,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.pb(70,0,null,null,1,"button",[["class","btn btn-primary"],["style","width:80px;margin-right:10px"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.Db(-1,null,[" Save "])),(l()(),e.pb(72,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.pb(73,0,null,null,1,"button",[["class","btn btn-light"],["style","width:80px;margin-right:10px"],["type","button"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.cancelEdit()&&u),u},null,null)),(l()(),e.Db(-1,null,[" Cancel "])),(l()(),e.pb(75,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.pb(76,0,null,null,1,"button",[["class","btn btn-light"],["style","width:80px"],["type","button"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.deleteProduct()&&u),u},null,null)),(l()(),e.Db(-1,null,[" Delete "]))],function(l,n){var t=n.component;l(n,6,0,t.productForm);var u=l(n,16,0,t.displayMessage.productName);l(n,15,0,"form-control",u),l(n,19,0,"productName"),l(n,23,0,t.displayMessage.productName);var e=l(n,30,0,t.displayMessage.productCode);l(n,29,0,"form-control",e),l(n,33,0,"productCode"),l(n,37,0,t.displayMessage.productCode);var r=l(n,44,0,t.displayMessage.starRating);l(n,43,0,"form-control",r),l(n,47,0,"starRating"),l(n,51,0,t.displayMessage.starRating);var o=l(n,58,0,t.displayMessage.description);l(n,57,0,"form-control",o),l(n,61,0,"description"),l(n,66,0,t.displayMessage.description)},function(l,n){var t=n.component;l(n,2,0,t.pageTitle),l(n,4,0,e.xb(n,8).ngClassUntouched,e.xb(n,8).ngClassTouched,e.xb(n,8).ngClassPristine,e.xb(n,8).ngClassDirty,e.xb(n,8).ngClassValid,e.xb(n,8).ngClassInvalid,e.xb(n,8).ngClassPending),l(n,14,0,e.xb(n,21).ngClassUntouched,e.xb(n,21).ngClassTouched,e.xb(n,21).ngClassPristine,e.xb(n,21).ngClassDirty,e.xb(n,21).ngClassValid,e.xb(n,21).ngClassInvalid,e.xb(n,21).ngClassPending),l(n,28,0,e.xb(n,35).ngClassUntouched,e.xb(n,35).ngClassTouched,e.xb(n,35).ngClassPristine,e.xb(n,35).ngClassDirty,e.xb(n,35).ngClassValid,e.xb(n,35).ngClassInvalid,e.xb(n,35).ngClassPending),l(n,42,0,e.xb(n,49).ngClassUntouched,e.xb(n,49).ngClassTouched,e.xb(n,49).ngClassPristine,e.xb(n,49).ngClassDirty,e.xb(n,49).ngClassValid,e.xb(n,49).ngClassInvalid,e.xb(n,49).ngClassPending),l(n,56,0,e.xb(n,63).ngClassUntouched,e.xb(n,63).ngClassTouched,e.xb(n,63).ngClassPristine,e.xb(n,63).ngClassDirty,e.xb(n,63).ngClassValid,e.xb(n,63).ngClassInvalid,e.xb(n,63).ngClassPending),l(n,70,0,!t.productForm.valid||!t.productForm.dirty)})}function X(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Db(1,null,[" Error: ","\n"]))],null,function(l,n){l(n,1,0,n.component.errorMessage)})}function Z(l){return e.Fb(0,[(l()(),e.gb(16777216,null,null,1,null,W)),e.ob(1,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,X)),e.ob(3,16384,null,0,S.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,1,0,t.product),l(n,3,0,t.errorMessage)},null)}var Q=e.nb({encapsulation:2,styles:[],data:{}});function H(l){return e.Fb(2,[(l()(),e.pb(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,6,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,5,"pm-product-list",[],null,[[null,"checked"],[null,"initializeNewProduct"],[null,"selected"]],function(l,n,t){var u=!0,e=l.component;return"checked"===n&&(u=!1!==e.checkChanged(t)&&u),"initializeNewProduct"===n&&(u=!1!==e.newProduct()&&u),"selected"===n&&(u=!1!==e.productSelected(t)&&u),u},U,N)),e.ob(3,49152,null,0,M,[],{errorMessage:[0,"errorMessage"],displayCode:[1,"displayCode"],products:[2,"products"],selectedProduct:[3,"selectedProduct"]},{checked:"checked",initializeNewProduct:"initializeNewProduct",selected:"selected"}),e.yb(131072,S.b,[e.h]),e.yb(131072,S.b,[e.h]),e.yb(131072,S.b,[e.h]),e.yb(131072,S.b,[e.h]),(l()(),e.pb(8,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,3,"pm-product-edit",[],null,[[null,"create"],[null,"update"],[null,"delete"],[null,"clearCurrent"]],function(l,n,t){var u=!0,e=l.component;return"create"===n&&(u=!1!==e.saveProduct(t)&&u),"update"===n&&(u=!1!==e.updateProduct(t)&&u),"delete"===n&&(u=!1!==e.deleteProduct(t)&&u),"clearCurrent"===n&&(u=!1!==e.clearProduct()&&u),u},Z,V)),e.ob(10,770048,null,0,q,[R.d],{errorMessage:[0,"errorMessage"],selectedProduct:[1,"selectedProduct"]},{create:"create",update:"update",delete:"delete",clearCurrent:"clearCurrent"}),e.yb(131072,S.b,[e.h]),e.yb(131072,S.b,[e.h])],function(l,n){var t=n.component;l(n,3,0,e.Eb(n,3,0,e.xb(n,4).transform(t.errorMessage$)),e.Eb(n,3,1,e.xb(n,5).transform(t.displayCode$)),e.Eb(n,3,2,e.xb(n,6).transform(t.products$)),e.Eb(n,3,3,e.xb(n,7).transform(t.selectedProduct$))),l(n,10,0,e.Eb(n,10,0,e.xb(n,11).transform(t.errorMessage$)),e.Eb(n,10,1,e.xb(n,12).transform(t.selectedProduct$)))},null)}function K(l){return e.Fb(0,[(l()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,H,Q)),e.ob(1,114688,null,0,D,[r.o],null,null)],function(l,n){l(n,1,0)},null)}var ll=e.lb("ng-component",D,K,{},{},[]),nl=t("PCNd"),tl=t("ZYCi"),ul={showProductCode:!0,currentProductId:null,products:[],error:""};function el(l,n){switch(void 0===l&&(l=ul),n.type){case u.ToggleProductCode:return z.a({},l,{showProductCode:n.payload});case u.SetCurrentProduct:return z.a({},l,{currentProductId:n.payload.id});case u.ClearCurrentProduct:return z.a({},l,{currentProductId:null});case u.InitializeCurrentProduct:return z.a({},l,{currentProductId:0});case u.LoadSuccess:return z.a({},l,{products:n.payload,error:""});case u.LoadFail:return z.a({},l,{products:[],error:n.payload});case u.UpdateProductSuccess:var t=l.products.map(function(l){return n.payload.id===l.id?n.payload:l});return z.a({},l,{products:t,currentProductId:n.payload.id,error:""});case u.UpdateProductFail:return z.a({},l,{error:n.payload});case u.CreateProductSuccess:return z.a({},l,{products:l.products.concat([n.payload]),currentProductId:n.payload.id,error:""});case u.CreateProductFail:return z.a({},l,{error:n.payload});case u.DeleteProductSuccess:return z.a({},l,{products:l.products.filter(function(l){return l.id!==n.payload}),currentProductId:null,error:""});case u.DeleteProductFail:return z.a({},l,{error:n.payload});default:return l}}var rl=t("jYNz"),ol=t("psW0"),cl=t("67Y/"),il=t("9Z1F"),sl=t("F/XL"),al=t("6blF"),dl=function(){function l(l,n){var t=this;this.actions$=l,this.productService=n,this.loadProducts$=this.actions$.pipe(Object(rl.d)(u.Load),Object(ol.a)(function(l){return t.productService.getProducts().pipe(Object(cl.a)(function(l){return new m(l)}),Object(il.a)(function(l){return Object(sl.a)(new P(l))}))})),this.updateProduct$=this.actions$.pipe(Object(rl.d)(u.UpdateProduct),Object(cl.a)(function(l){return l.payload}),Object(ol.a)(function(l){return t.productService.updateProduct(l).pipe(Object(cl.a)(function(l){return new v(l)}),Object(il.a)(function(l){return Object(sl.a)(new P(l))}))})),this.createProduct$=this.actions$.pipe(Object(rl.d)(u.CreateProduct),Object(cl.a)(function(l){return l.payload}),Object(ol.a)(function(l){return t.productService.createProduct(l).pipe(Object(cl.a)(function(l){return new w(l)}),Object(il.a)(function(l){return Object(sl.a)(new x(l))}))})),this.deleteProduct$=this.actions$.pipe(Object(rl.d)(u.DeleteProduct),Object(cl.a)(function(l){return l.payload}),Object(ol.a)(function(l){return t.productService.deleteProduct(l).pipe(Object(cl.a)(function(){return new O(l)}),Object(il.a)(function(l){return Object(sl.a)(new j(l))}))}))}return z.b([Object(rl.b)(),z.d("design:type",al.a)],l.prototype,"loadProducts$",void 0),z.b([Object(rl.b)(),z.d("design:type",al.a)],l.prototype,"updateProduct$",void 0),z.b([Object(rl.b)(),z.d("design:type",al.a)],l.prototype,"createProduct$",void 0),z.b([Object(rl.b)(),z.d("design:type",al.a)],l.prototype,"deleteProduct$",void 0),l}(),pl=t("t/Na"),bl=t("XlPw"),gl=t("xMyE"),fl=function(){function l(l){this.http=l,this.productsUrl="api/products"}return l.prototype.getProducts=function(){return this.http.get(this.productsUrl).pipe(Object(gl.a)(function(l){return console.log(JSON.stringify(l))}),Object(il.a)(this.handleError))},l.prototype.createProduct=function(l){var n=new pl.g({"Content-Type":"application/json"});return l.id=null,this.http.post(this.productsUrl,l,{headers:n}).pipe(Object(gl.a)(function(l){return console.log("createProduct: "+JSON.stringify(l))}),Object(il.a)(this.handleError))},l.prototype.deleteProduct=function(l){var n=new pl.g({"Content-Type":"application/json"});return this.http.delete(this.productsUrl+"/"+l,{headers:n}).pipe(Object(gl.a)(function(n){return console.log("deleteProduct: "+l)}),Object(il.a)(this.handleError))},l.prototype.updateProduct=function(l){var n=new pl.g({"Content-Type":"application/json"});return this.http.put(this.productsUrl+"/"+l.id,l,{headers:n}).pipe(Object(gl.a)(function(){return console.log("updateProduct: "+l.id)}),Object(cl.a)(function(){return l}),Object(il.a)(this.handleError))},l.prototype.handleError=function(l){var n;return n=l.error instanceof ErrorEvent?"An error occurred: "+l.error.message:"Backend returned code "+l.status+": "+l.body.error,console.error(l),Object(bl.a)(n)},l.ngInjectableDef=e.S({factory:function(){return new l(e.W(pl.c))},token:l,providedIn:"root"}),l}();t.d(n,"ProductModuleNgFactory",function(){return hl});var hl=e.mb(F,[],function(l){return e.vb([e.wb(512,e.j,e.bb,[[8,[I.a,ll]],[3,e.j],e.x]),e.wb(4608,S.m,S.l,[e.u,[2,S.s]]),e.wb(4608,R.u,R.u,[]),e.wb(4608,R.d,R.d,[]),e.wb(1073742336,S.c,S.c,[]),e.wb(1073742336,R.s,R.s,[]),e.wb(1073742336,R.h,R.h,[]),e.wb(1073742336,R.p,R.p,[]),e.wb(1073742336,nl.a,nl.a,[]),e.wb(1073742336,tl.n,tl.n,[[2,tl.t],[2,tl.k]]),e.wb(1024,r.k,function(){return[{key:"products",reducerFactory:r.B,metaReducers:[],initialState:void 0}]},[]),e.wb(1024,r.s,function(){return[el]},[]),e.wb(1024,r.t,function(l){return[l]},[r.s]),e.wb(1024,r.b,function(l,n,t){return[r.y(l,n,t)]},[e.q,r.s,r.t]),e.wb(1073873408,r.p,r.p,[r.k,r.b,r.h,r.q]),e.wb(512,dl,dl,[rl.a,fl]),e.wb(1024,rl.i,function(l){return[rl.e(l)]},[dl]),e.wb(1073742336,rl.g,rl.g,[rl.f,rl.i,[2,r.q],[2,r.p]]),e.wb(1073742336,F,F,[]),e.wb(1024,tl.i,function(){return[[{path:"",component:D}]]},[])])})}}]);