(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"37h8":function(l,n,t){"use strict";t.r(n);var u,e=t("CcnG"),r=t("yGQT"),o=Object(r.D)("products"),a=Object(r.F)(o,function(l){return l.showProductCode}),c=Object(r.F)(o,function(l){return l.currentProductId}),i=Object(r.F)(o,c,function(l,n){return 0===n?{id:0,productName:"",productCode:"New",description:"",starRating:0}:n?l.products.find(function(l){return l.id===n}):null}),s=Object(r.F)(o,function(l){return l.products}),d=Object(r.F)(o,function(l){return l.error});!function(l){l.ToggleProductCode="[Product] Toggle Product Code",l.SetCurrentProduct="[Product] Set Current Product",l.ClearCurrentProduct="[Product] Clear Current Product",l.InitializeCurrentProduct="[Product] Initialize Current Product",l.Load="[Product] Load",l.LoadSuccess="[Product] Load Success",l.LoadFail="[Product] Load Fail",l.UpdateProduct="[Product] Update Product",l.UpdateProductSuccess="[Product] Update Product Success",l.UpdateProductFail="[Product] Update Product Fail",l.CreateProduct="[Product] Create Product",l.CreateProductSuccess="[Product] Create Product Success",l.CreateProductFail="[Product] Create Product Fail",l.DeleteProduct="[Product] Delete Product",l.DeleteProductSuccess="[Product] Delete Product Success",l.DeleteProductFail="[Product] Delete Product Fail"}(u||(u={}));var p=function(){return function(l){this.payload=l,this.type=u.ToggleProductCode}}(),g=function(){return function(l){this.payload=l,this.type=u.SetCurrentProduct}}(),f=function(){return function(){this.type=u.ClearCurrentProduct}}(),h=function(){return function(){this.type=u.InitializeCurrentProduct}}(),b=function(){return function(){this.type=u.Load}}(),m=function(){return function(l){this.payload=l,this.type=u.LoadSuccess}}(),P=function(){return function(l){this.payload=l,this.type=u.LoadFail}}(),y=function(){return function(l){this.payload=l,this.type=u.UpdateProduct}}(),v=function(){return function(l){this.payload=l,this.type=u.UpdateProductSuccess}}(),C=function(){return function(l){this.payload=l,this.type=u.CreateProduct}}(),N=function(){return function(l){this.payload=l,this.type=u.CreateProductSuccess}}(),M=function(){return function(l){this.payload=l,this.type=u.CreateProductFail}}(),j=function(){return function(l){this.payload=l,this.type=u.DeleteProduct}}(),O=function(){return function(l){this.payload=l,this.type=u.DeleteProductSuccess}}(),k=function(){return function(l){this.payload=l,this.type=u.DeleteProductFail}}(),V=function(){function l(l){this.store=l}return l.prototype.ngOnInit=function(){this.store.dispatch(new b),this.products$=this.store.pipe(Object(r.G)(s)),this.errorMessage$=this.store.pipe(Object(r.G)(d)),this.selectedProduct$=this.store.pipe(Object(r.G)(i)),this.displayCode$=this.store.pipe(Object(r.G)(a))},l.prototype.checkChanged=function(l){this.store.dispatch(new p(l))},l.prototype.newProduct=function(){this.store.dispatch(new h)},l.prototype.productSelected=function(l){this.store.dispatch(new g(l))},l.prototype.deleteProduct=function(l){this.store.dispatch(new j(l.id))},l.prototype.clearProduct=function(){this.store.dispatch(new f)},l.prototype.saveProduct=function(l){this.store.dispatch(new C(l))},l.prototype.updateProduct=function(l){this.store.dispatch(new y(l))},l}(),w=function(){},I=t("Ip0R"),S=function(){function l(){this.pageTitle="Products",this.checked=new e.m,this.initializeNewProduct=new e.m,this.selected=new e.m}return l.prototype.checkChanged=function(l){this.checked.emit(l)},l.prototype.newProduct=function(){this.initializeNewProduct.emit()},l.prototype.productSelected=function(l){this.selected.emit(l)},l}(),U=e.La({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{padding:0}"]],data:{}});function F(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.bb(1,null,["(",")"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.productCode)})}function E(l){return e.db(0,[(l()(),e.Na(0,0,null,null,5,"button",[["class","list-group-item list-group-item-action rounded-0"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.productSelected(l.context.$implicit)&&u),u},null,null)),e.Ma(1,278528,null,0,I.i,[e.q,e.r,e.k,e.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Xa(2,{active:0}),(l()(),e.bb(3,null,[" "," "])),(l()(),e.Ea(16777216,null,null,1,null,F)),e.Ma(5,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,1,0,"list-group-item list-group-item-action rounded-0",l(n,2,0,(null==n.context.$implicit?null:n.context.$implicit.id)===(null==t.selectedProduct?null:t.selectedProduct.id))),l(n,5,0,t.displayCode)},function(l,n){l(n,3,0,n.context.$implicit.productName)})}function $(l){return e.db(0,[(l()(),e.Na(0,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.Na(1,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),e.Ea(16777216,null,null,1,null,E)),e.Ma(3,802816,null,0,I.j,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.products)},null)}function D(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.bb(1,null,[" Error: ","\n"]))],null,function(l,n){l(n,1,0,n.component.errorMessage)})}function T(l){return e.db(0,[(l()(),e.Na(0,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.Na(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.bb(2,null,["",""])),(l()(),e.Ea(16777216,null,null,1,null,$)),e.Ma(4,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.Na(5,0,null,null,8,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),e.Na(6,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.Na(7,0,null,null,3,"div",[["class","form-check col-md-7"]],null,null,null,null,null)),(l()(),e.Na(8,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),e.Na(9,0,null,null,0,"input",[["class","form-check-input"],["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(l,n,t){var u=!0;return"change"===n&&(u=!1!==l.component.checkChanged(t.target.checked)&&u),u},null,null)),(l()(),e.bb(-1,null,[" Display Product Code "])),(l()(),e.Na(11,0,null,null,2,"div",[["class","col-md-4 text-right"]],null,null,null,null,null)),(l()(),e.Na(12,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.newProduct()&&u),u},null,null)),(l()(),e.bb(-1,null,[" Add "])),(l()(),e.Ea(16777216,null,null,1,null,D)),e.Ma(15,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,4,0,t.products),l(n,15,0,t.errorMessage)},function(l,n){var t=n.component;l(n,2,0,t.pageTitle),l(n,9,0,t.displayCode)})}var x=t("gIcY"),R=function(){function l(l){this.validationMessages=l}return l.prototype.processMessages=function(l){var n=this,t={},u=function(u){if(l.controls.hasOwnProperty(u)){var r=l.controls[u];if(r instanceof x.f){var o=e.processMessages(r);Object.assign(t,o)}else e.validationMessages[u]&&(t[u]="",(r.dirty||r.touched)&&r.errors&&Object.keys(r.errors).map(function(l){n.validationMessages[u][l]&&(t[u]+=n.validationMessages[u][l]+" ")}))}},e=this;for(var r in l.controls)u(r);return t},l}(),L=function(){function l(){}return l.range=function(l,n){return function(t){return t.value&&(isNaN(t.value)||t.value<l||t.value>n)?{range:!0}:null}},l}(),q=Object.assign||function(l){for(var n,t=1,u=arguments.length;t<u;t++)for(var e in n=arguments[t])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l},J=function(){function l(l){this.fb=l,this.pageTitle="Product Edit",this.create=new e.m,this.update=new e.m,this.delete=new e.m,this.clearCurrent=new e.m,this.componentActive=!0,this.displayMessage={},this.validationMessages={productName:{required:"Product name is required.",minlength:"Product name must be at least three characters.",maxlength:"Product name cannot exceed 50 characters."},productCode:{required:"Product code is required."},starRating:{range:"Rate the product between 1 (lowest) and 5 (highest)."}},this.genericValidator=new R(this.validationMessages)}return l.prototype.ngOnInit=function(){var l=this;this.productForm=this.fb.group({productName:["",[x.r.required,x.r.minLength(3),x.r.maxLength(50)]],productCode:["",x.r.required],starRating:["",L.range(1,5)],description:""}),this.productForm.valueChanges.subscribe(function(n){return l.displayMessage=l.genericValidator.processMessages(l.productForm)})},l.prototype.ngOnChanges=function(l){l.selectedProduct&&this.displayProduct(l.selectedProduct.currentValue)},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l.prototype.blur=function(){this.displayMessage=this.genericValidator.processMessages(this.productForm)},l.prototype.displayProduct=function(l){this.product=l,this.product&&(this.productForm.reset(),this.pageTitle=0===this.product.id?"Add Product":"Edit Product: "+this.product.productName,this.productForm.patchValue({productName:this.product.productName,productCode:this.product.productCode,starRating:this.product.starRating,description:this.product.description}))},l.prototype.cancelEdit=function(){this.displayProduct(this.product)},l.prototype.deleteProduct=function(){this.product&&this.product.id?confirm("Really delete the product: "+this.product.productName+"?")&&this.delete.emit(this.product):this.clearCurrent.emit()},l.prototype.saveProduct=function(){if(this.productForm.valid){if(this.productForm.dirty){var l=q({},this.product,this.productForm.value);0===l.id?this.create.emit(l):this.update.emit(l)}}else this.errorMessage="Please correct the validation errors."},l}(),Y=e.La({encapsulation:0,styles:[[""]],data:{}});function _(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.bb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.productName)})}function z(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.bb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.productCode)})}function B(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.bb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.starRating)})}function G(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"span",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.bb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.displayMessage.description)})}function W(l){return e.db(0,[(l()(),e.Na(0,0,null,null,77,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.Na(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.bb(2,null,[" "," "])),(l()(),e.Na(3,0,null,null,74,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.Na(4,0,null,null,73,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,t){var u=!0,r=l.component;return"submit"===n&&(u=!1!==e.Va(l,6).onSubmit(t)&&u),"reset"===n&&(u=!1!==e.Va(l,6).onReset()&&u),"ngSubmit"===n&&(u=!1!==r.saveProduct()&&u),u},null,null)),e.Ma(5,16384,null,0,x.t,[],null,null),e.Ma(6,540672,null,0,x.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Ya(2048,null,x.b,null,[x.g]),e.Ma(8,16384,null,0,x.m,[[4,x.b]],null,null),(l()(),e.Na(9,0,null,null,68,"fieldset",[],null,null,null,null,null)),(l()(),e.Na(10,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.Na(11,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","productNameId"]],null,null,null,null,null)),(l()(),e.bb(-1,null,["Product Name"])),(l()(),e.Na(13,0,null,null,10,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.Na(14,0,null,null,7,"input",[["class","form-control"],["formControlName","productName"],["id","productNameId"],["placeholder","Name (required)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0,r=l.component;return"input"===n&&(u=!1!==e.Va(l,17)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Va(l,17).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Va(l,17)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Va(l,17)._compositionEnd(t.target.value)&&u),"blur"===n&&(u=!1!==r.blur()&&u),u},null,null)),e.Ma(15,278528,null,0,I.i,[e.q,e.r,e.k,e.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Xa(16,{"is-invalid":0}),e.Ma(17,16384,null,0,x.c,[e.B,e.k,[2,x.a]],null,null),e.Ya(1024,null,x.j,function(l){return[l]},[x.c]),e.Ma(19,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.j],[2,x.v]],{name:[0,"name"]},null),e.Ya(2048,null,x.k,null,[x.e]),e.Ma(21,16384,null,0,x.l,[[4,x.k]],null,null),(l()(),e.Ea(16777216,null,null,1,null,_)),e.Ma(23,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.Na(24,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.Na(25,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","productCodeId"]],null,null,null,null,null)),(l()(),e.bb(-1,null,["Product Code"])),(l()(),e.Na(27,0,null,null,10,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.Na(28,0,null,null,7,"input",[["class","form-control"],["formControlName","productCode"],["id","productCodeId"],["placeholder","Code (required)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0,r=l.component;return"input"===n&&(u=!1!==e.Va(l,31)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Va(l,31).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Va(l,31)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Va(l,31)._compositionEnd(t.target.value)&&u),"blur"===n&&(u=!1!==r.blur()&&u),u},null,null)),e.Ma(29,278528,null,0,I.i,[e.q,e.r,e.k,e.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Xa(30,{"is-invalid":0}),e.Ma(31,16384,null,0,x.c,[e.B,e.k,[2,x.a]],null,null),e.Ya(1024,null,x.j,function(l){return[l]},[x.c]),e.Ma(33,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.j],[2,x.v]],{name:[0,"name"]},null),e.Ya(2048,null,x.k,null,[x.e]),e.Ma(35,16384,null,0,x.l,[[4,x.k]],null,null),(l()(),e.Ea(16777216,null,null,1,null,z)),e.Ma(37,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.Na(38,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.Na(39,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","starRatingId"]],null,null,null,null,null)),(l()(),e.bb(-1,null,["Star Rating (1-5)"])),(l()(),e.Na(41,0,null,null,10,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.Na(42,0,null,null,7,"input",[["class","form-control"],["formControlName","starRating"],["id","starRatingId"],["placeholder","Rating"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Va(l,45)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Va(l,45).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Va(l,45)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Va(l,45)._compositionEnd(t.target.value)&&u),u},null,null)),e.Ma(43,278528,null,0,I.i,[e.q,e.r,e.k,e.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Xa(44,{"is-invalid":0}),e.Ma(45,16384,null,0,x.c,[e.B,e.k,[2,x.a]],null,null),e.Ya(1024,null,x.j,function(l){return[l]},[x.c]),e.Ma(47,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.j],[2,x.v]],{name:[0,"name"]},null),e.Ya(2048,null,x.k,null,[x.e]),e.Ma(49,16384,null,0,x.l,[[4,x.k]],null,null),(l()(),e.Ea(16777216,null,null,1,null,B)),e.Ma(51,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.Na(52,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.Na(53,0,null,null,1,"label",[["class","col-md-3 col-form-label"],["for","descriptionId"]],null,null,null,null,null)),(l()(),e.bb(-1,null,["Description"])),(l()(),e.Na(55,0,null,null,11,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),e.Na(56,0,null,null,8,"textarea",[["class","form-control"],["formControlName","description"],["id","descriptionId"],["placeholder","Description"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Va(l,59)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Va(l,59).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Va(l,59)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Va(l,59)._compositionEnd(t.target.value)&&u),u},null,null)),e.Ma(57,278528,null,0,I.i,[e.q,e.r,e.k,e.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Xa(58,{"is-invalid":0}),e.Ma(59,16384,null,0,x.c,[e.B,e.k,[2,x.a]],null,null),e.Ya(1024,null,x.j,function(l){return[l]},[x.c]),e.Ma(61,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.j],[2,x.v]],{name:[0,"name"]},null),e.Ya(2048,null,x.k,null,[x.e]),e.Ma(63,16384,null,0,x.l,[[4,x.k]],null,null),(l()(),e.bb(-1,null,["            "])),(l()(),e.Ea(16777216,null,null,1,null,G)),e.Ma(66,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.Na(67,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.Na(68,0,null,null,9,"div",[["class","col-md-10 col-md-offset-2"]],null,null,null,null,null)),(l()(),e.Na(69,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Na(70,0,null,null,1,"button",[["class","btn btn-primary"],["style","width:80px;margin-right:10px"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.bb(-1,null,[" Save "])),(l()(),e.Na(72,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Na(73,0,null,null,1,"button",[["class","btn btn-light"],["style","width:80px;margin-right:10px"],["type","button"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.cancelEdit()&&u),u},null,null)),(l()(),e.bb(-1,null,[" Cancel "])),(l()(),e.Na(75,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Na(76,0,null,null,1,"button",[["class","btn btn-light"],["style","width:80px"],["type","button"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.deleteProduct()&&u),u},null,null)),(l()(),e.bb(-1,null,[" Delete "]))],function(l,n){var t=n.component;l(n,6,0,t.productForm),l(n,15,0,"form-control",l(n,16,0,t.displayMessage.productName)),l(n,19,0,"productName"),l(n,23,0,t.displayMessage.productName),l(n,29,0,"form-control",l(n,30,0,t.displayMessage.productCode)),l(n,33,0,"productCode"),l(n,37,0,t.displayMessage.productCode),l(n,43,0,"form-control",l(n,44,0,t.displayMessage.starRating)),l(n,47,0,"starRating"),l(n,51,0,t.displayMessage.starRating),l(n,57,0,"form-control",l(n,58,0,t.displayMessage.description)),l(n,61,0,"description"),l(n,66,0,t.displayMessage.description)},function(l,n){var t=n.component;l(n,2,0,t.pageTitle),l(n,4,0,e.Va(n,8).ngClassUntouched,e.Va(n,8).ngClassTouched,e.Va(n,8).ngClassPristine,e.Va(n,8).ngClassDirty,e.Va(n,8).ngClassValid,e.Va(n,8).ngClassInvalid,e.Va(n,8).ngClassPending),l(n,14,0,e.Va(n,21).ngClassUntouched,e.Va(n,21).ngClassTouched,e.Va(n,21).ngClassPristine,e.Va(n,21).ngClassDirty,e.Va(n,21).ngClassValid,e.Va(n,21).ngClassInvalid,e.Va(n,21).ngClassPending),l(n,28,0,e.Va(n,35).ngClassUntouched,e.Va(n,35).ngClassTouched,e.Va(n,35).ngClassPristine,e.Va(n,35).ngClassDirty,e.Va(n,35).ngClassValid,e.Va(n,35).ngClassInvalid,e.Va(n,35).ngClassPending),l(n,42,0,e.Va(n,49).ngClassUntouched,e.Va(n,49).ngClassTouched,e.Va(n,49).ngClassPristine,e.Va(n,49).ngClassDirty,e.Va(n,49).ngClassValid,e.Va(n,49).ngClassInvalid,e.Va(n,49).ngClassPending),l(n,56,0,e.Va(n,63).ngClassUntouched,e.Va(n,63).ngClassTouched,e.Va(n,63).ngClassPristine,e.Va(n,63).ngClassDirty,e.Va(n,63).ngClassValid,e.Va(n,63).ngClassInvalid,e.Va(n,63).ngClassPending),l(n,70,0,!t.productForm.valid||!t.productForm.dirty)})}function X(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.bb(1,null,[" Error: ","\n"]))],null,function(l,n){l(n,1,0,n.component.errorMessage)})}function A(l){return e.db(0,[(l()(),e.Ea(16777216,null,null,1,null,W)),e.Ma(1,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.Ea(16777216,null,null,1,null,X)),e.Ma(3,16384,null,0,I.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,1,0,t.product),l(n,3,0,t.errorMessage)},null)}var Z=e.La({encapsulation:2,styles:[],data:{}});function Q(l){return e.db(2,[(l()(),e.Na(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.Na(1,0,null,null,6,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),e.Na(2,0,null,null,5,"pm-product-list",[],null,[[null,"checked"],[null,"initializeNewProduct"],[null,"selected"]],function(l,n,t){var u=!0,e=l.component;return"checked"===n&&(u=!1!==e.checkChanged(t)&&u),"initializeNewProduct"===n&&(u=!1!==e.newProduct()&&u),"selected"===n&&(u=!1!==e.productSelected(t)&&u),u},T,U)),e.Ma(3,49152,null,0,S,[],{errorMessage:[0,"errorMessage"],displayCode:[1,"displayCode"],products:[2,"products"],selectedProduct:[3,"selectedProduct"]},{checked:"checked",initializeNewProduct:"initializeNewProduct",selected:"selected"}),e.Wa(131072,I.b,[e.h]),e.Wa(131072,I.b,[e.h]),e.Wa(131072,I.b,[e.h]),e.Wa(131072,I.b,[e.h]),(l()(),e.Na(8,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),e.Na(9,0,null,null,3,"pm-product-edit",[],null,[[null,"create"],[null,"update"],[null,"delete"],[null,"clearCurrent"]],function(l,n,t){var u=!0,e=l.component;return"create"===n&&(u=!1!==e.saveProduct(t)&&u),"update"===n&&(u=!1!==e.updateProduct(t)&&u),"delete"===n&&(u=!1!==e.deleteProduct(t)&&u),"clearCurrent"===n&&(u=!1!==e.clearProduct()&&u),u},A,Y)),e.Ma(10,770048,null,0,J,[x.d],{errorMessage:[0,"errorMessage"],selectedProduct:[1,"selectedProduct"]},{create:"create",update:"update",delete:"delete",clearCurrent:"clearCurrent"}),e.Wa(131072,I.b,[e.h]),e.Wa(131072,I.b,[e.h])],function(l,n){var t=n.component;l(n,3,0,e.cb(n,3,0,e.Va(n,4).transform(t.errorMessage$)),e.cb(n,3,1,e.Va(n,5).transform(t.displayCode$)),e.cb(n,3,2,e.Va(n,6).transform(t.products$)),e.cb(n,3,3,e.Va(n,7).transform(t.selectedProduct$))),l(n,10,0,e.cb(n,10,0,e.Va(n,11).transform(t.errorMessage$)),e.cb(n,10,1,e.Va(n,12).transform(t.selectedProduct$)))},null)}var K=e.Ja("ng-component",V,function(l){return e.db(0,[(l()(),e.Na(0,0,null,null,1,"ng-component",[],null,null,null,Q,Z)),e.Ma(1,114688,null,0,V,[r.o],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),H=t("PCNd"),ll=t("ZYCi"),nl=Object.assign||function(l){for(var n,t=1,u=arguments.length;t<u;t++)for(var e in n=arguments[t])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l},tl={showProductCode:!0,currentProductId:null,products:[],error:""};function ul(l,n){switch(void 0===l&&(l=tl),n.type){case u.ToggleProductCode:return nl({},l,{showProductCode:n.payload});case u.SetCurrentProduct:return nl({},l,{currentProductId:n.payload.id});case u.ClearCurrentProduct:return nl({},l,{currentProductId:null});case u.InitializeCurrentProduct:return nl({},l,{currentProductId:0});case u.LoadSuccess:return nl({},l,{products:n.payload,error:""});case u.LoadFail:return nl({},l,{products:[],error:n.payload});case u.UpdateProductSuccess:var t=l.products.map(function(l){return n.payload.id===l.id?n.payload:l});return nl({},l,{products:t,currentProductId:n.payload.id,error:""});case u.UpdateProductFail:return nl({},l,{error:n.payload});case u.CreateProductSuccess:return nl({},l,{products:l.products.concat([n.payload]),currentProductId:n.payload.id,error:""});case u.CreateProductFail:return nl({},l,{error:n.payload});case u.DeleteProductSuccess:return nl({},l,{products:l.products.filter(function(l){return l.id!==n.payload}),currentProductId:null,error:""});case u.DeleteProductFail:return nl({},l,{error:n.payload});default:return l}}var el=t("mrSG"),rl=t("jYNz"),ol=t("67Y/"),al=t("9Z1F"),cl=t("psW0"),il=t("F/XL"),sl=t("6blF"),dl=function(){function l(l,n){var t=this;this.actions$=l,this.productService=n,this.loadProducts$=this.actions$.pipe(Object(rl.d)(u.Load),Object(cl.a)(function(l){return t.productService.getProducts().pipe(Object(ol.a)(function(l){return new m(l)}),Object(al.a)(function(l){return Object(il.a)(new P(l))}))})),this.updateProduct$=this.actions$.pipe(Object(rl.d)(u.UpdateProduct),Object(ol.a)(function(l){return l.payload}),Object(cl.a)(function(l){return t.productService.updateProduct(l).pipe(Object(ol.a)(function(l){return new v(l)}),Object(al.a)(function(l){return Object(il.a)(new P(l))}))})),this.createProduct$=this.actions$.pipe(Object(rl.d)(u.CreateProduct),Object(ol.a)(function(l){return l.payload}),Object(cl.a)(function(l){return t.productService.createProduct(l).pipe(Object(ol.a)(function(l){return new N(l)}),Object(al.a)(function(l){return Object(il.a)(new M(l))}))})),this.deleteProduct$=this.actions$.pipe(Object(rl.d)(u.DeleteProduct),Object(ol.a)(function(l){return l.payload}),Object(cl.a)(function(l){return t.productService.deleteProduct(l).pipe(Object(ol.a)(function(){return new O(l)}),Object(al.a)(function(l){return Object(il.a)(new k(l))}))}))}return Object(el.b)([Object(rl.b)(),Object(el.d)("design:type",sl.a)],l.prototype,"loadProducts$",void 0),Object(el.b)([Object(rl.b)(),Object(el.d)("design:type",sl.a)],l.prototype,"updateProduct$",void 0),Object(el.b)([Object(rl.b)(),Object(el.d)("design:type",sl.a)],l.prototype,"createProduct$",void 0),Object(el.b)([Object(rl.b)(),Object(el.d)("design:type",sl.a)],l.prototype,"deleteProduct$",void 0),l}(),pl=t("t/Na"),gl=t("XlPw"),fl=t("xMyE"),hl=function(){function l(l){this.http=l,this.productsUrl="api/products"}return l.prototype.getProducts=function(){return this.http.get(this.productsUrl).pipe(Object(fl.a)(function(l){return console.log(JSON.stringify(l))}),Object(al.a)(this.handleError))},l.prototype.createProduct=function(l){var n=new pl.g({"Content-Type":"application/json"});return l.id=null,this.http.post(this.productsUrl,l,{headers:n}).pipe(Object(fl.a)(function(l){return console.log("createProduct: "+JSON.stringify(l))}),Object(al.a)(this.handleError))},l.prototype.deleteProduct=function(l){var n=new pl.g({"Content-Type":"application/json"});return this.http.delete(this.productsUrl+"/"+l,{headers:n}).pipe(Object(fl.a)(function(n){return console.log("deleteProduct: "+l)}),Object(al.a)(this.handleError))},l.prototype.updateProduct=function(l){var n=new pl.g({"Content-Type":"application/json"});return this.http.put(this.productsUrl+"/"+l.id,l,{headers:n}).pipe(Object(fl.a)(function(){return console.log("updateProduct: "+l.id)}),Object(ol.a)(function(){return l}),Object(al.a)(this.handleError))},l.prototype.handleError=function(l){var n;return n=l.error instanceof ErrorEvent?"An error occurred: "+l.error.message:"Backend returned code "+l.status+": "+l.body.error,console.error(l),Object(gl.a)(n)},l.ngInjectableDef=e.Q({factory:function(){return new l(e.U(pl.c))},token:l,providedIn:"root"}),l}();t.d(n,"ProductModuleNgFactory",function(){return bl});var bl=e.Ka(w,[],function(l){return e.Ta([e.Ua(512,e.j,e.Z,[[8,[K]],[3,e.j],e.v]),e.Ua(4608,I.m,I.l,[e.s,[2,I.q]]),e.Ua(4608,x.u,x.u,[]),e.Ua(4608,x.d,x.d,[]),e.Ua(1073742336,I.c,I.c,[]),e.Ua(1073742336,x.s,x.s,[]),e.Ua(1073742336,x.h,x.h,[]),e.Ua(1073742336,x.p,x.p,[]),e.Ua(1073742336,H.a,H.a,[]),e.Ua(1073742336,ll.n,ll.n,[[2,ll.s],[2,ll.k]]),e.Ua(1024,r.k,function(){return[{key:"products",reducerFactory:r.B,metaReducers:[],initialState:void 0}]},[]),e.Ua(1024,r.s,function(){return[ul]},[]),e.Ua(1024,r.t,function(l){return[l]},[r.s]),e.Ua(1024,r.b,function(l,n,t){return[r.y(l,n,t)]},[e.p,r.s,r.t]),e.Ua(1073873408,r.p,r.p,[r.k,r.b,r.h,r.q]),e.Ua(512,dl,dl,[rl.a,hl]),e.Ua(1024,rl.i,function(l){return[rl.e(l)]},[dl]),e.Ua(1073742336,rl.g,rl.g,[rl.f,rl.i,[2,r.q],[2,r.p]]),e.Ua(1073742336,w,w,[]),e.Ua(1024,ll.i,function(){return[[{path:"",component:V}]]},[])])})}}]);